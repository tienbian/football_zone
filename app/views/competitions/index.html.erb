
<script>
  $(function() {
    $('table').tablesort().data('tablesort');
    $('thead th.number').data('sortBy', function(th, td, sorter) {
      return parseInt(td.text(), 10);
    });
  });
</script>




<%= link_to 'New Competition', new_competition_path,:class => 'btn btn-primary' %> | 
<%= link_to 'New Team', new_team_path,:class => 'btn btn-primary' %>
<table>
  <thead>
    <tr>
      
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @competitions.each do |competition| %>
      <tr>
        
        <td><%= competition.description %></td>
        <td><%= competition.country %></td>
        <h4><%=competition.name%> Table</h4>
    
      </tr>


  <table class ="table table-bordered table-striped " width="50%"  >
  <thead>
  <tr>
    <th><Team Name%></th>
   <!--  <th>Game played</th>
    <th>Game remaining</th> -->
    <th>Win</th>
    <th>Lose</th> 
    <th>Tie</th>
    <th>Score</th>
    
  </tr>
  </thead>
  <tbody>
  <%@teams = Team.where(comp_id: competition.id)%>
  <%@teams.each do |team|%>

  <tr>
    <td><%=image_tag(team.team_picture_url, :width => 20)%> <%=link_to team.name, team%></td>
   <!--  <td><%=38 -   team.not_kick_off%>
    <td><%=team.not_kick_off%> -->
    <td><%=team.wins%></td>
    <td><%=team.losses%></td> 
    <td><%=team.ties%></td>
    <td><%=team.score%></td>
    
  </tr>

</tbody>
  <%end%>
</table>


        <td><%= link_to 'Show', competition ,:class => 'btn btn-primary btn-md'%></td>
        <td><%= link_to 'Edit', edit_competition_path(competition),:class => 'btn btn-primary btn-md' %></td>
        <td><%= link_to 'Destroy', competition, method: :delete, data: { confirm: 'Are you sure?' },:class => 'btn btn-danger btn-md' %></td>
     
    <% end %>
  </tbody>
  <br>
  <%= paginate @competitions %>
</table>


<br>

